<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>å± é¾™å®åˆ€ï¼Œç‚¹å‡»å°±é€ï¼Œå¸…çš„ç‚¹äº†æ‰é€</title>
<style>
  :root{ --bg:#0f1325;--panel:#182039;--line:#26325d;--text:#eaf0ff;--muted:#a8b2d2; --accent:#86a8ff;--accent2:#9df0d7; }
  *{box-sizing:border-box}
  html,body{ min-height:100%; background:
    radial-gradient(1000px 600px at 10% -10%, #1b2350 0, transparent 60%),
    radial-gradient(900px 500px at 110% 10%, #232f5f 0, transparent 60%), var(--bg);
    color:var(--text); font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,PingFang SC,"Microsoft YaHei",sans-serif; margin:0 }
  .wrap{ width:min(860px,100%); margin:20px auto; display:grid; gap:14px; padding:0 14px }
  .card{ background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)); border:1px solid var(--line); border-radius:14px; padding:16px; position:relative; overflow:hidden }
  h1{ margin:0 0 6px; font-size:24px; line-height:1.35 }
  .lead{ margin:6px 0 0; font-size:18px; font-weight:600; letter-spacing:.2px }
  .muted{ color:var(--muted); font-size:14px }
  .row{ display:flex; gap:12px; flex-wrap:wrap }
  button{ appearance:none; border:none; cursor:pointer; font-weight:700; border-radius:12px; padding:10px 14px; color:#0b1233;
    background:linear-gradient(90deg,var(--accent),var(--accent2)); box-shadow:0 8px 20px rgba(134,168,255,.25); transition:transform .05s ease }
  button:active{ transform:translateY(1px) scale(.99) }
  .type{ border-right:2px solid var(--accent); white-space:pre-wrap; min-height: 1.6em; }
  .tag{ display:inline-block; padding:3px 10px; border:1px solid var(--line); border-radius:999px; color:var(--muted); font-size:12px; margin-bottom:8px }
  footer{ color:var(--muted); font-size:12px; text-align:center; padding:10px }
  .headcopy{ position:relative; z-index:1 }
  @media (max-width:480px){ h1{ font-size:22px } .lead{ font-size:16px } .row{ flex-direction: column; } }
</style>
</head>
<body>
<div class="wrap">
  <header class="card">
    <div class="headcopy">
      <h1>å“¦è«ï¼Œ<span id="toName">æ˜¯è°åœ¨å‘å…‰ï¼</span>å¥½é—ªï¼ âœ¨</h1>
      <p class="lead">åŸæ¥æ˜¯å”±æ­Œåˆå¥½å¬ã€é•¿å¾—åˆå¥½çœ‹ã€æ¸¸æˆè¿˜æ‰“å¾—å¥½çš„ <b>å…¨ä¸–ç•Œæœ€å¥½çš„ å·´zei åŒå­¦</b>å‘€ï¼</p>
      <div class="muted">åŠªåŠ›çš„å·´zeiåŒå­¦å¾ˆé…·ï¼Œä½†æ˜¯èƒ½åœä¸‹æ¥å‘å‘å‘†çœ‹çœ‹äº‘çš„å·´zeiåŒå­¦æ›´ï¼æ˜¯ï¼è¶…ï¼çº§ï¼é…·ï¼</div>
    </div>
  </header>

  <div class="card">
    <div class="tag">ğŸ¯ ä»Šå¤©çš„å·´zeiåŒå­¦å¼€å¿ƒäº†å—ï¼Ÿ</div>
    <p id="quote" class="type"></p>
    <div class="row">
      <button id="btnNew">é•¿å¾—å¸…çš„éƒ½ç‚¹æˆ‘</button>
      <button id="btnFire">æ”¾çƒŸèŠ± âœ¨</button>
      <span class="muted" style="align-self:center">æ‰‹æœºä¸Šï¼šè½»è§¦é¡µé¢ä»»æ„å¤„ä¹Ÿèƒ½æ”¾çƒŸèŠ±</span>
    </div>
  </div>

  <footer>Â© <span id="year"></span> é‡äº‹ä¸è¦æ…Œï¼Œè¿˜èƒ½æ‰¾ä¸«ä¸«</footer>
</div>

<canvas id="fx" style="position:fixed;inset:0;pointer-events:none"></canvas>

<!-- æ–‡æ¡ˆå­˜ JSONï¼Œé¿å…å¼•å·è¢«ç ´å -->
<script type="application/json" id="quotes-json">
[
  "å§æ§½ï¼Œç§ç§ï¼Œè¿™æ˜¯è°ï¼Ÿæ˜¯å…¨ä¸–ç•Œæœ€å¥½çš„å·´zeiåŒå­¦ï¼",
  "å·´zeiåŒå­¦å¹´çºªè½»è½»å®Œæˆäººç”Ÿå°ç›®æ ‡ï¼Œè¯¥èººï¼",
  "å¿ƒå³ç†ä¹Ÿã€‚",
  "èº«ä½“æ‰æ˜¯é©å‘½çš„æœ¬é’±ã€‚",
  "ä¸å…¶é€¼è‡ªå·±ä¸€æŠŠï¼Œä¸å¦‚æ”¾è‡ªå·±ä¸€é©¬ã€‚",
  "å¯æ˜¯æˆ‘ä»¬å·´zeiåŒå­¦ï¼Œå°±æ˜¯å¾ˆå¥½å¾ˆå¥½ä¼šå‘å…‰å‘€ï½",
  "èººå¹³ä¸æ˜¯æ‘†çƒ‚ï¼Œæ˜¯ä¼‘å…»ç”Ÿæ¯ï½",
  "å·´zeiåŒå­¦å€¼å¾—æ‹¥æœ‰ä¸–ç•Œä¸Šæ‰€æœ‰çš„å¥½ä¸œè¥¿ã€‚",
  "ä½ ä¸ä¼šæœ‰è¿‡ä¸å»çš„åï¼Œå› ä¸ºä½ çš„è…¿ä¸å¤ŸçŸ­ã€‚",
  "å¤§æ–¹å‘ä½ å·²ç»å®Œäº‹å„¿äº†ï¼Œç°åœ¨éœ€è¦çš„æ˜¯äº«å—ï¼äº«å—äººç”Ÿï¼å’±å¿«ä¹å°±å®Œäº‹å„¿äº†ï¼ï¼"
]
</script>

<script>
  const $ = s => document.querySelector(s);
  const elQuote=$("#quote"), elYear=$("#year");
  const btnNew=$("#btnNew"), btnFire=$("#btnFire");
  const canvas=$("#fx"), ctx=canvas.getContext("2d");

  // è§£æ JSON æ–‡æ¡ˆ
  let QUOTES=[];
  try{
    QUOTES = JSON.parse(document.getElementById('quotes-json').textContent.trim());
  }catch(e){
    QUOTES = ["æ–‡æ¡ˆè§£æå¤±è´¥ï¼Œä½†ä½ ä¾ç„¶å¾ˆé…·ã€‚"];
  }

  // å­˜å‚¨å®šæ—¶å™¨å¼•ç”¨
  let typeTimer = null;
  
  function typeText(el, text, speed=18){
    // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
    if (typeTimer) {
      clearInterval(typeTimer);
      typeTimer = null;
    }
    
    let i=0; 
    el.textContent="";
    
    // ç§»é™¤æ—§çš„å…‰æ ‡é—ªçƒæ•ˆæœ
    el.classList.remove("type");
    void el.offsetWidth; // è§¦å‘é‡ç»˜
    el.classList.add("type");
    
    typeTimer = setInterval(()=>{
      if(i < text.length){
        el.textContent += text[i];
        i++;
      } else {
        clearInterval(typeTimer);
        typeTimer = null;
      }
    }, speed);
  }

  function newQuote(){
    const pick = QUOTES[Math.floor(Math.random()*QUOTES.length)];
    typeText(elQuote, pick);
  }

  // å±å¹•é€‚é…
  let W=0,H=0, DPR = Math.min(2, devicePixelRatio || 1);
  function resize(){ W=canvas.width=innerWidth*DPR; H=canvas.height=innerHeight*DPR; canvas.style.width="100%"; canvas.style.height="100%"; }
  addEventListener("resize", resize); resize();

  // çƒŸèŠ±
  function pagePos(evt){ if(evt.touches && evt.touches[0]) return {x: evt.touches[0].clientX, y: evt.touches[0].clientY}; return {x: evt.clientX, y: evt.clientY}; }
  function triggerFire(e){ const p = pagePos(e); fireworks(p.x, p.y); }
  document.addEventListener("click", triggerFire);
  document.addEventListener("touchstart", triggerFire, {passive:true});
  
  const particles=[];
  function fireworks(x,y){
    const cx = x*DPR, cy = y*DPR;
    const colors = ["#fff5a5","#ffd1dc","#86a8ff","#9df0d7","#fbc2eb"];
    const N = 80 + Math.floor(Math.random()*50);
    for(let i=0;i<N;i++){
      const angle = (Math.PI*2) * (i/N) + Math.random()*0.2;
      const speed = 2 + Math.random()*4;
      particles.push({ x:cx, y:cy, vx:Math.cos(angle)*speed, vy:Math.sin(angle)*speed, life:60+Math.random()*20, color:colors[i%colors.length], size:2+Math.random()*2 });
    }
    particles.push({x:cx,y:cy,vx:0,vy:0,life:25,color:"#ffffff",size:4});
  }
  
  function tick(){
    ctx.clearRect(0,0,W,H);
    for(let i=particles.length-1;i>=0;i--){
      const p=particles[i];
      p.x += p.vx; p.y += p.vy; p.vy += 0.03*DPR; p.vx *= 0.99; p.vy *= 0.99; p.life--;
      ctx.globalAlpha = Math.max(p.life/60, 0);
      ctx.fillStyle = p.color; ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI*2); ctx.fill();
      if(p.life<=0) particles.splice(i,1);
    }
    ctx.globalAlpha = 1; requestAnimationFrame(tick);
  }
  tick();

  // åˆå§‹åŒ–
  (function init(){ 
    elYear.textContent = new Date().getFullYear(); 
    newQuote(); 
    
    // æ·»åŠ äº‹ä»¶ç›‘å¬
    btnNew.addEventListener("click", e=>{ 
      e.stopPropagation(); 
      newQuote(); 
    });
    
    btnFire.addEventListener("click", e=>{ 
      e.stopPropagation(); 
      fireworks(innerWidth/2, innerHeight/2); 
    });
  })();
</script>
</body>
</html>